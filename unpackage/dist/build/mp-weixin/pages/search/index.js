"use strict";const e=require("../../api/api.js"),t=require("../../common/vendor.js");require("../../utils/request.js");const u={data:()=>({title:"Hello",searchValue:"",searchType:"1",searchTypes:[{value:0,text:"搜UP"},{value:1,text:"搜作品"}],resultAuthFlag:!1,resultVideoFlag:!1,resultAuth:[],resultVideo:[],authList:[]}),onLoad(){},methods:{async search(){if("0"==this.searchType)try{var t={keyword:this.searchValue,search_type:this.searchType,page_no:1,page_size:10};let u=await e.ciliSearch(t);console.log("res: ",u),u&&"0"==u.code&&(this.resultAuth=u.auth_result,this.resultAuthFlag=!0,this.resultVideoFlag=!1)}catch(u){console.error("Error:",u)}if("1"==this.searchType)try{t={keyword:this.searchValue,search_type:this.searchType,page_no:1,page_size:10};let u=await e.ciliSearch(t);console.log("res: ",u),u&&"0"==u.code&&(this.resultVideo=u.video_result,this.resultVideoFlag=!0,this.resultAuthFlag=!1)}catch(u){console.error("Error:",u)}},selectAuth(e){this.authList.some((t=>t.auth_uuid===e.auth_uuid))||this.authList.push({name:e.name,auth_uuid:e.auth_uuid})},deleteAuth(e){let t=e.auth_uuid;this.authList=this.authList.filter((e=>e.auth_uuid!==t))}}};if(!Array){(t.resolveComponent("uni-data-select")+t.resolveComponent("uni-easyinput")+t.resolveComponent("uni-tag")+t.resolveComponent("uni-list-item")+t.resolveComponent("uni-list"))()}Math||((()=>"../../uni_modules/uni-data-select/components/uni-data-select/uni-data-select.js")+(()=>"../../uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.js")+(()=>"../../uni_modules/uni-tag/components/uni-tag/uni-tag.js")+(()=>"../../uni_modules/uni-list/components/uni-list-item/uni-list-item.js")+(()=>"../../uni_modules/uni-list/components/uni-list/uni-list.js"))();const s=t._export_sfc(u,[["render",function(e,u,s,i,a,l){return t.e({a:t.o((e=>a.searchType=e)),b:t.p({localdata:a.searchTypes,clear:!1,placeholder:"查询类型",modelValue:a.searchType}),c:t.o(l.search),d:t.o((e=>a.searchValue=e)),e:t.p({suffixIcon:"search",placeholder:"查询喜欢的UP或者作品~",modelValue:a.searchValue}),f:t.f(a.authList,((e,u,s)=>({a:e.auth_uuid,b:t.o((t=>l.deleteAuth(e)),e.auth_uuid),c:"617e3d8d-2-"+s,d:t.p({circle:!0,text:e.name,inverted:!0,type:"success"})}))),g:a.resultAuthFlag},a.resultAuthFlag?{h:t.f(a.resultAuth,((e,u,s)=>({a:t.o((t=>l.selectAuth(e)),e.auth_uuid),b:"617e3d8d-4-"+s+",617e3d8d-3-"+s,c:t.p({title:`${e.name}.${e.platform}`,note:`收藏数：${e.like_num}`,thumb:e.img_url,clickable:!0}),d:e.auth_uuid,e:"617e3d8d-3-"+s})))}:{},{i:a.resultVideoFlag},a.resultVideoFlag?{j:t.f(a.resultVideo,((e,u,s)=>({a:e.img_url,b:e.title,c:t.t(e.auth_name),d:t.t(e.platform),e:t.t(e.like_num),f:"617e3d8d-6-"+s+",617e3d8d-5-"+s,g:e.video_uuid,h:"617e3d8d-5-"+s})))}:{})}]]);wx.createPage(s);
